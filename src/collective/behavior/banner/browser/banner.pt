<tal:block tal:define="banner view/find_banner;
                       portal_url context/@@plone_portal_state/portal_url"
           tal:condition="banner">
<div tal:define="has_image python:banner.has_key('banner_image');
                 has_fontcolor python:banner.has_key('banner_fontcolor');
                 fontcolor python:has_fontcolor and banner['banner_fontcolor'] or '#000'"
     tal:attributes="class python:'banner_container' if has_image else 'banner_container banner_without_image'"
     class="banner_container">
  <div class="banner_inner_container">
    <div class="banner_image_container"
         tal:condition="has_image">
        <div class=""
             tal:define="has_link python:banner.has_key('banner_link')">
        <tal:link tal:condition="has_link">
          <a href="#"
             tal:attributes="href banner/banner_link"
             tal:omit-tag="python:not banner.has_key('banner_link')">
            <img class="banner_image"
                 tal:attributes="src string:${banner/banner_image}/preview">
          </a>
         </tal:link>
         <tal:nolink tal:condition="not:has_link">
             <img class="banner_image"
                 tal:attributes="src string:${banner/banner_image}/preview">
         </tal:nolink>
        </div>
    </div>
    <div class="banner_content_container">
        <div class="banner-verlauf">
            <h1 tal:condition="python:banner.has_key('banner_title')"
                tal:attributes="style string:color:${fontcolor} !important"
                tal:content="banner/banner_title">
                Titel
            </h1>
            <h3 tal:condition="python:banner.has_key('banner_description')"
                tal:attributes="style string:color:${fontcolor} !important"
                tal:content="banner/banner_description">
                Subtitle
            </h3>
            <div tal:condition="python:banner.has_key('banner_text')"
                 tal:attributes="style string:color:${fontcolor} !important">
                <p tal:replace="structure banner/banner_text">
                       Text
                </p>
            </div>
        </div>
    </div>
  </div>

</div>

</tal:block>